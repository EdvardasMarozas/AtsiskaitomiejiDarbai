<!-- <a class="btn btn-outline-secondary btn-sm" href="/petwars"> GO BACK</a> -->
<h1 class="text-center"><%= title %></h1> <p><a href="/logout">logout</a></p>
<%- include("../layout/header") %>

<div class="container" style="column-width: 150px">
     <% for (let i = 0, a = 1; i < pets.length; i++, a++) { %>
        <div style="display: flex; flex-direction: column; break-inside: avoid; width: 71%;">
          <div class="d-flex flex-row">
            <div>
            <a class="btn btn-outline-dark" href="/panel/<%= adminID %>/<%= pets[i].ID %>/edit"><i class="bi bi-pencil-square"></i> EDIT</a>
            </div>
            <div>
              <form action="/panel/<%= adminID %>/<%= pets[i].ID %>" method="post">
                <input type="hidden" name="_method" value="DELETE">
                <a class="delete_link btn btn-outline-danger" href="#"><i class="bi bi-trash3"></i> DELETE</a>
              </form>
            </div>
          </div>
            <a style="width: 100%" href="/petwars/pets/<%= pets[i].ID %>">
              <img
                class="mb-2 rounded"
                src="images/<%= pets[i].image%>"
                style="max-height: 150px"
              />
            </a>
            <a style="width: 100%; text-align: center;" class="mb-4" href="/petwars/pets/<%= pets[i].ID %>"><%= a %>.<%= pets[i].name %></a>
        </div>
      <% } %>
</div>

<script>
    const delete_links = document.getElementsByClassName("delete_link");
    if (delete_links.length){
      for (let i = 0; i < delete_links.length; i++) {
        delete_links[i].addEventListener("click", (evt) => {
          evt.preventDefault();
          if (confirm('Are you sure you want to delete this!')) {
            evt.currentTarget.parentNode.submit();
          }
          return false;
        });
      }
    }
  </script>

  <%- include("../layout/footer") %>